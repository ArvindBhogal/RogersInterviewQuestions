{"ast":null,"code":"import { Apollo } from 'apollo-angular';\nimport data from '../../assets/data.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../contentful.service\";\nimport * as i2 from \"apollo-angular\";\nexport class ItemsComponent {\n  constructor(api, apollo) {\n    this.api = api;\n    this.apollo = apollo;\n    this.testData = [];\n    this.exportedData = [];\n  }\n  ngOnInit() {\n    this.testData = JSON.parse(JSON.stringify(data.data.pageTemplateCollection.items));\n    console.log(this.testData);\n    this.parseJSON(this.testData);\n    // this.api.retrieveContent().subscribe((data) => {\n    //   this.data.url = data.items[0].fields.url;\n    //   this.data.seoTitle = data.includes.Entry[0].fields.title;\n    //   this.data.description = data.includes.Entry[0].fields.description;\n    //   this.data.isNoIndex = data.includes.Entry[0].fields.isNoIndex;\n    //   console.log(this.data);\n    // })\n    // this.apollo.query({\n    //   errorPolicy: \"all\",\n    //   query: gql`\n    //   {\n    //     pageTemplateCollection {\n    //       items{\n    //         url\n    //         seo{\n    //           entryTitle\n    //           description\n    //           isNoIndex\n    //         }\n    //       }\n    //     }\n    //   }`\n    // })\n    // .subscribe((result: any) => {\n    //   console.log(result);\n    //   this.data2 = result.data.pageTemplateCollection.items;\n    //   console.log(this.data2);\n    // })\n  }\n\n  parseJSON(testData) {\n    var newObj = {\n      url: \"\",\n      title: \"\",\n      description: \"\",\n      isNoIndex: false\n    };\n    for (let item in testData) {\n      console.log(testData[item]);\n      if (testData[item].seo === null) {\n        continue;\n      }\n      newObj.url = testData[item].url.replace(\"/\", \"https://www.rogers.com/\");\n      newObj.url = testData[item].url.replace(\"/home\", \"\");\n      newObj.title = testData[item].seo.entryTitle;\n      newObj.description = testData[item].seo.description.substring(0, 80);\n      newObj.isNoIndex = testData[item].seo.isNoIndex;\n      console.log(newObj);\n    }\n    console.log(testData);\n  }\n  static #_ = this.ɵfac = function ItemsComponent_Factory(t) {\n    return new (t || ItemsComponent)(i0.ɵɵdirectiveInject(i1.ContentfulService), i0.ɵɵdirectiveInject(i2.Apollo));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemsComponent,\n    selectors: [[\"app-items\"]],\n    decls: 0,\n    vars: 0,\n    template: function ItemsComponent_Template(rf, ctx) {},\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AAGA,SAASA,MAAM,QAAa,gBAAgB;AAC5C,OAAOC,IAAI,MAAM,wBAAwB;;;;AAQzC,OAAM,MAAOC,cAAc;EAKzBC,YACUC,GAAsB,EACtBC,MAAc;IADd,QAAG,GAAHD,GAAG;IACH,WAAM,GAANC,MAAM;IALhB,aAAQ,GAAM,EAAE;IAChB,iBAAY,GAAM,EAAE;EAKpB;EAEAC,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACT,IAAI,CAACA,IAAI,CAACU,sBAAsB,CAACC,KAAK,CAAC,CAAC;IAClFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,QAAQ,CAAC;IAC1B,IAAI,CAACQ,SAAS,CAAC,IAAI,CAACR,QAAQ,CAAC;IAC7B;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAQ,SAAS,CAACR,QAAe;IACvB,IAAIS,MAAM,GAAG;MACXC,GAAG,EAAE,EAAE;MACPC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE;KACZ;IAED,KAAK,IAAIC,IAAI,IAAId,QAAQ,EAAE;MACzBM,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACc,IAAI,CAAC,CAAC;MAC3B,IAAId,QAAQ,CAACc,IAAI,CAAC,CAACC,GAAG,KAAK,IAAI,EAAE;QAC/B;;MAEFN,MAAM,CAACC,GAAG,GAAGV,QAAQ,CAACc,IAAI,CAAC,CAACJ,GAAG,CAACM,OAAO,CAAC,GAAG,EAAE,yBAAyB,CAAC;MACvEP,MAAM,CAACC,GAAG,GAAGV,QAAQ,CAACc,IAAI,CAAC,CAACJ,GAAG,CAACM,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;MACpDP,MAAM,CAACE,KAAK,GAAGX,QAAQ,CAACc,IAAI,CAAC,CAACC,GAAG,CAACE,UAAU;MAC5CR,MAAM,CAACG,WAAW,GAAGZ,QAAQ,CAACc,IAAI,CAAC,CAACC,GAAG,CAACH,WAAW,CAACM,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;MACpET,MAAM,CAACI,SAAS,GAAGb,QAAQ,CAACc,IAAI,CAAC,CAACC,GAAG,CAACF,SAAS;MAC/CP,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;;IAErBH,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;EACvB;EAAC;qBAlEUL,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAwB;IAAAC;IAAAC;IAAAC;IAAAC;EAAA","names":["Apollo","data","ItemsComponent","constructor","api","apollo","ngOnInit","testData","JSON","parse","stringify","pageTemplateCollection","items","console","log","parseJSON","newObj","url","title","description","isNoIndex","item","seo","replace","entryTitle","substring","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["C:\\Users\\Arvind\\Documents\\RogersInterviewDemo2\\angular\\src\\app\\items\\items.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ContentfulService } from '../contentful.service';\nimport { Apollo, gql } from 'apollo-angular';\nimport data from '../../assets/data.json';\nimport { stringifyForDisplay } from '@apollo/client/utilities';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.component.html',\n  styleUrls: ['./items.component.css']\n})\nexport class ItemsComponent implements OnInit {\n\n  testData:[] = [];\n  exportedData:[] = [];\n\n  constructor(\n    private api: ContentfulService,\n    private apollo: Apollo) {\n  }\n\n  ngOnInit() {\n    this.testData = JSON.parse(JSON.stringify(data.data.pageTemplateCollection.items));\n    console.log(this.testData);\n    this.parseJSON(this.testData);\n    // this.api.retrieveContent().subscribe((data) => {\n    //   this.data.url = data.items[0].fields.url;\n    //   this.data.seoTitle = data.includes.Entry[0].fields.title;\n    //   this.data.description = data.includes.Entry[0].fields.description;\n    //   this.data.isNoIndex = data.includes.Entry[0].fields.isNoIndex;\n    //   console.log(this.data);\n    // })\n\n    // this.apollo.query({\n    //   errorPolicy: \"all\",\n    //   query: gql`\n    //   {\n    //     pageTemplateCollection {\n    //       items{\n    //         url\n    //         seo{\n    //           entryTitle\n    //           description\n    //           isNoIndex\n    //         }\n    //       }\n    //     }\n    //   }`\n    // })\n    // .subscribe((result: any) => {\n    //   console.log(result);\n    //   this.data2 = result.data.pageTemplateCollection.items;\n    //   console.log(this.data2);\n    // })\n  }\n\n  parseJSON(testData: any[]) {\n    var newObj = {\n      url: \"\",\n      title: \"\",\n      description: \"\",\n      isNoIndex: false,\n    };\n\n    for (let item in testData) {\n      console.log(testData[item]);\n      if (testData[item].seo === null) {\n        continue;\n      }\n      newObj.url = testData[item].url.replace(\"/\", \"https://www.rogers.com/\");\n      newObj.url = testData[item].url.replace(\"/home\", \"\");\n      newObj.title = testData[item].seo.entryTitle;\n      newObj.description = testData[item].seo.description.substring(0, 80);\n      newObj.isNoIndex = testData[item].seo.isNoIndex;\n      console.log(newObj);\n    }\n    console.log(testData);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
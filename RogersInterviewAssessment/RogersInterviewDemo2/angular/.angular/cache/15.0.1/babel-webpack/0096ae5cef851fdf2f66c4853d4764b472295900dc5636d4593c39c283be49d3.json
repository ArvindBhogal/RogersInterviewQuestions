{"ast":null,"code":"import { Apollo } from 'apollo-angular';\nimport data from '../../assets/dataModified.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../contentful.service\";\nimport * as i2 from \"apollo-angular\";\nimport * as i3 from \"@angular/common\";\nfunction ItemsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4)(5, \"a\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const entry_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"href\", entry_r1.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", entry_r1.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", entry_r1.description, \" \");\n  }\n}\nexport class ItemsComponent {\n  constructor(api, apollo) {\n    this.api = api;\n    this.apollo = apollo;\n    this.testData = [];\n  }\n  ngOnInit() {\n    this.testData = JSON.parse(JSON.stringify(data));\n    console.log(this.testData);\n    // this.parseJSON(this.testData);\n    // this.api.retrieveContent().subscribe((data) => {\n    //   this.data.url = data.items[0].fields.url;\n    //   this.data.seoTitle = data.includes.Entry[0].fields.title;\n    //   this.data.description = data.includes.Entry[0].fields.description;\n    //   this.data.isNoIndex = data.includes.Entry[0].fields.isNoIndex;\n    //   console.log(this.data);\n    // })\n    // this.apollo.query({\n    //   errorPolicy: \"all\",\n    //   query: gql`\n    //   {\n    //     pageTemplateCollection {\n    //       items{\n    //         url\n    //         seo{\n    //           title\n    //           description\n    //           isNoIndex\n    //         }\n    //       }\n    //     }\n    //   }`\n    // })\n    // .subscribe((result: any) => {\n    //   console.log(result);\n    // })\n  }\n\n  parseJSON(testData) {\n    for (let item in testData) {\n      var newObj = {\n        url: \"\",\n        title: \"\",\n        description: \"\",\n        isNoIndex: false,\n        category: {}\n      };\n      var tmpArray = [];\n      if (testData[item].seo === null) {\n        continue;\n      } else {\n        testData[item].url = testData[item].url.replace(\"/home\", \"\");\n        tmpArray = testData[item].url.split(\"/\");\n        tmpArray.shift();\n        for (let category in tmpArray) {\n          let stringTry = (+category + 1).toString();\n          tmpArray[category] = tmpArray[category].charAt(0).toUpperCase() + tmpArray[category].slice(1);\n          newObj.category[stringTry] = tmpArray[category];\n        }\n        testData[item].url = testData[item].url.replace(\"/\", \"https://www.rogers.com/\");\n        newObj.url = testData[item].url;\n        newObj.title = testData[item].seo.title;\n        newObj.description = testData[item].seo.description.substring(0, 80);\n        newObj.isNoIndex = testData[item].seo.isNoIndex;\n        testData[item] = newObj;\n      }\n    }\n    console.log(testData);\n  }\n  static #_ = this.ɵfac = function ItemsComponent_Factory(t) {\n    return new (t || ItemsComponent)(i0.ɵɵdirectiveInject(i1.ContentfulService), i0.ɵɵdirectiveInject(i2.Apollo));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemsComponent,\n    selectors: [[\"app-items\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [1, \"card\", 2, \"width\", \"40rem\", \"margin-top\", \"1%\", \"margin-left\", \"2%\"], [1, \"card-body\"], [1, \"row\"], [1, \"card-title\"], [3, \"href\"]],\n    template: function ItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ItemsComponent_div_0_Template, 9, 3, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.testData);\n      }\n    },\n    dependencies: [i3.NgForOf],\n    styles: [\"a[_ngcontent-%COMP%] {\\r\\n  color: #2f6fa7;\\r\\n}\\r\\n\\r\\nh5[_ngcontent-%COMP%] {\\r\\n  font-size: 2rem;\\r\\n  font-weight: 600;\\r\\n  line-height: 1.3;\\r\\n  margin-bottom: 1.6rem;\\r\\n}\\n/*# sourceURL=webpack://./src/app/items/items.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaXRlbXMvaXRlbXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixxQkFBcUI7QUFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyJhIHtcclxuICBjb2xvcjogIzJmNmZhNztcclxufVxyXG5cclxuaDUge1xyXG4gIGZvbnQtc2l6ZTogMnJlbTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XHJcbiAgbWFyZ2luLWJvdHRvbTogMS42cmVtO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Apollo","data","i0","ItemsComponent","constructor","api","apollo","ngOnInit","testData","JSON","parse","stringify","console","log","parseJSON","item","newObj","url","title","description","isNoIndex","category","tmpArray","seo","replace","split","shift","stringTry","toString","charAt","toUpperCase","slice","substring","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Arvind\\Documents\\RogersInterviewDemo2\\angular\\src\\app\\items\\items.component.ts","C:\\Users\\Arvind\\Documents\\RogersInterviewDemo2\\angular\\src\\app\\items\\items.component.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ContentfulService } from '../contentful.service';\nimport { Apollo, gql } from 'apollo-angular';\nimport data from '../../assets/dataModified.json';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.component.html',\n  styleUrls: ['./items.component.css']\n})\nexport class ItemsComponent implements OnInit {\n\n  testData: {\n    url: string,\n    title: string,\n    description: string,\n    isNoIndex: Boolean,\n    category: {\n      [key: string]: any;\n    }}[] = [];\n\n  constructor(\n    private api: ContentfulService,\n    private apollo: Apollo) {\n  }\n\n  ngOnInit() {\n    this.testData = JSON.parse(JSON.stringify(data));\n    console.log(this.testData);\n    // this.parseJSON(this.testData);\n    // this.api.retrieveContent().subscribe((data) => {\n    //   this.data.url = data.items[0].fields.url;\n    //   this.data.seoTitle = data.includes.Entry[0].fields.title;\n    //   this.data.description = data.includes.Entry[0].fields.description;\n    //   this.data.isNoIndex = data.includes.Entry[0].fields.isNoIndex;\n    //   console.log(this.data);\n    // })\n\n    // this.apollo.query({\n    //   errorPolicy: \"all\",\n    //   query: gql`\n    //   {\n    //     pageTemplateCollection {\n    //       items{\n    //         url\n    //         seo{\n    //           title\n    //           description\n    //           isNoIndex\n    //         }\n    //       }\n    //     }\n    //   }`\n    // })\n    // .subscribe((result: any) => {\n    //   console.log(result);\n    // })\n  }\n\n  parseJSON(testData: any[]) {\n    for (let item in testData) {\n      var newObj: {\n        url: string,\n        title: string,\n        description: string,\n        isNoIndex: Boolean,\n        category: {\n          [key: string]: any;\n        },\n      } = {\n        url: \"\",\n        title: \"\",\n        description: \"\",\n        isNoIndex: false,\n        category: {},\n      };\n\n      var tmpArray = [];\n\n      if (testData[item].seo === null) {\n        continue;\n      } else {\n\n        testData[item].url = testData[item].url.replace(\"/home\", \"\");\n        tmpArray = testData[item].url.split(\"/\");\n        tmpArray.shift();\n\n        for (let category in tmpArray) {\n          let stringTry = (+category + 1).toString();\n          tmpArray[category] = tmpArray[category].charAt(0).toUpperCase()  + tmpArray[category].slice(1);\n          newObj.category[stringTry] = tmpArray[category];\n\n        }\n        testData[item].url = testData[item].url.replace(\"/\", \"https://www.rogers.com/\");\n        newObj.url = testData[item].url;\n        newObj.title = testData[item].seo.title;\n        newObj.description = testData[item].seo.description.substring(0, 80);\n        newObj.isNoIndex = testData[item].seo.isNoIndex;\n\n        testData[item] = newObj;\n\n\n      }\n    }\n    console.log(testData);\n  }\n}\n","<!-- <p> URL = {{ data.url }}</p>\n<p> SEO Title = {{ data.seoTitle }}</p>\n<p> Description = {{ data.description }}</p>\n<p> IsNoIndex = {{ data.description }}</p>\n\n<hr>\n-->\n\n<!-- <div *ngFor=\"let entry of testData\">\n  <p> URL = {{ entry.url }}</p>\n  <p> SEO Title = {{ entry.title }}</p>\n  <p> Description = {{ entry.description }}</p>\n  <p> IsNoIndex = {{ entry.isNoIndex }}</p>\n  <hr>\n</div> -->\n\n<div *ngFor=\"let entry of testData\">\n  <div class=\"card\" style=\"width: 40rem; margin-top: 1%; margin-left: 2%;\">\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <h3 class=\"card-title\">\n          <a [href]=\"entry.url\">\n            {{ entry.title }}\n          </a>\n        </h3>\n      </div>\n      <p> {{ entry.description }} </p>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}